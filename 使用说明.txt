========================================
ä¸šåŠ¡çº¿æ ¸ç®— Prefect éƒ¨ç½²åŒ…ä½¿ç”¨è¯´æ˜
========================================

ğŸ“¦ éƒ¨ç½²åŒ…å†…å®¹
-------------
âœ“ flows/          - Flow å®šä¹‰
âœ“ tasks/          - Task å®šä¹‰  
âœ“ utils/          - å·¥å…·å‡½æ•°
âœ“ deploy_local.py - æœ¬åœ°æµ‹è¯•éƒ¨ç½²è„šæœ¬
âœ“ deploy_production.py - ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²è„šæœ¬
âœ“ test_flow.py    - ç›´æ¥æµ‹è¯•è„šæœ¬
âœ“ requirements.txt - ä¾èµ–åŒ…åˆ—è¡¨
âœ“ README_éƒ¨ç½²è¯´æ˜.md - è¯¦ç»†éƒ¨ç½²è¯´æ˜

ğŸš€ å¿«é€Ÿå¼€å§‹
-----------

1. é¦–å…ˆè¿è¡Œå¤åˆ¶è„šæœ¬ï¼Œå°† flowsã€tasksã€utils æ–‡ä»¶å¤¹å¤åˆ¶åˆ°éƒ¨ç½²åŒ…ï¼š
   
   python å¤åˆ¶æ–‡ä»¶.py

2. å®‰è£…ä¾èµ–ï¼š
   
   pip install -r requirements.txt

3. é€‰æ‹©éƒ¨ç½²æ–¹å¼ï¼š

   A. ç›´æ¥æµ‹è¯•ï¼ˆä¸ä½¿ç”¨ Prefect Serverï¼‰ï¼š
      python test_flow.py
   
   B. æœ¬åœ°æµ‹è¯•ï¼ˆå¯åœ¨ UI æŸ¥çœ‹ï¼‰ï¼š
      1) å¯åŠ¨ Prefect Server: prefect server start
      2) è¿è¡Œ: python deploy_local.py
      3) è®¿é—®: http://127.0.0.1:4200
   
   C. ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²ï¼ˆå¸¦è®¡åˆ’æ‰§è¡Œï¼‰ï¼š
      1) å¯åŠ¨ Prefect Server: prefect server start
      2) è¿è¡Œ: python deploy_production.py

   D. ä»æœ¬æœºéƒ¨ç½²åˆ°è¿œç¨‹æœåŠ¡å™¨ï¼ˆå¦‚ http://10.18.8.191:4200ï¼‰ï¼š
      1) åœ¨ deploy_to_server.py é¡¶éƒ¨ç¡®è®¤ PREFECT_SERVER_URL = "http://10.18.8.191:4200"
      2) ç¡®ä¿æœ¬æœºç½‘ç»œèƒ½è®¿é—®è¯¥æœåŠ¡å™¨ï¼Œä¸”æœåŠ¡å™¨ä¸Š Prefect æœåŠ¡å·²å¯åŠ¨
      3) åœ¨æœ¬åœ°è¿è¡Œ: python deploy_to_server.py
      4) æµç¨‹ä¼šæ³¨å†Œåˆ°è¿œç¨‹ Serverï¼Œåœ¨æµè§ˆå™¨æ‰“å¼€ http://10.18.8.191:4200 æŸ¥çœ‹

   E. è®© flow åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼ˆæ¨èï¼‰ï¼š
      1) æŠŠæ•´ä»½é¡¹ç›®ï¼ˆmodulesã€utilsã€deploy_to_server.pyã€requirements.txt ç­‰ï¼‰æ‹·è´åˆ°æœåŠ¡å™¨ï¼Œå¦‚ /root/prefect
      2) åœ¨æœåŠ¡å™¨ä¸Šï¼šcd /root/prefectï¼Œåˆ›å»º venvï¼Œpip install -r requirements.txt
      3) åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œï¼šexport PREFECT_API_URL=http://127.0.0.1:4200/api && python deploy_to_server.py
         ï¼ˆæˆ–ç›´æ¥è¿è¡Œ ./run_workers_on_server.shï¼‰
      4) å¯é€‰ï¼šç”¨ prefect-workers.service.example é…ç½® systemd å¼€æœºè‡ªå¯
      è¯¦è§ï¼šdocs/æœåŠ¡å™¨ä¸Šæ‰§è¡Œflowè¯´æ˜.md

ğŸ“‹ æ³¨æ„äº‹é¡¹
-----------
- ç¡®ä¿ mypackage æ¨¡å—åœ¨ Python è·¯å¾„ä¸­
- ç¡®ä¿æ•°æ®åº“è¿æ¥é…ç½®æ­£ç¡®
- ç¡®ä¿æ‰€æœ‰ä¾èµ–åŒ…å·²å®‰è£…

è¯¦ç»†è¯´æ˜è¯·æŸ¥çœ‹ README_éƒ¨ç½²è¯´æ˜.md
